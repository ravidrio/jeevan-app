<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- <div class="container" style="margin-top:100px;background-color:#eaeaea ; padding-right:0px; padding-left:0px;"> -->
<div class="card ac shad">
  <div class="card-body">
    <div class="row">
      <div class="col-6 ab"><i class="fa fa-clock-o" style="padding-right:20px;" aria-hidden="true"></i>Recent Requests
      </div>
      <div class="col-4">
        <div class="input-group ps-5">
        </div>
      </div>
      <div class="col-2 bar">
        <i class="fa fa-th-large clr" aria-hidden="true" [ngClass]="{'active' : clr, 'inactive': !clr}"
          (click)="changeview()"></i>
        <i class="fa fa-bars" aria-hidden="true" [ngClass]="{'active' :! clr, 'inactive':clr}"
          (click)="changeview1()"></i>
      </div>
    </div>
  </div>
</div>
<br>

<div class="card shad bg" style="border-radius:10px; padding: 10px; " *ngIf="tabview==false">
  <p-table #dt [value]="products" styleClass="p-datatable-striped" [rows]="5" [paginator]="true" [pageLinks]="30"
    [responsive]='true' scrollHeight='420px' [scrollable]='true'>
    <ng-template pTemplate="caption">
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="sno" style="min-width:150px">S No
          <p-sortIcon style="padding-left:20px ;" field="sno">
          </p-sortIcon>
        </th>
        <th style="min-width:150px">Request Type</th>
        <th style="min-width:150px">Product Name </th>
        <th style="min-width:150px">Booking Date</th>
        <th style="min-width:150px">Product Image</th>
        <th style="min-width:150px">Product Type</th>
        <th style="min-width:150px">Request Status</th>
        <th style="min-width:150px">Description</th>
        <th style="min-width:150px">Name</th>
        <th style="min-width:150px">Phn No</th>
        <th style="min-width:150px">Date</th>
        <th style="min-width:150px">Time</th>
        <th style="min-width:150px">Address</th>
        <th style="min-width:150px">Ratings</th>
        <th style="min-width:150px">Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td style="min-width:150px">{{product.sno}}</td>
        <td style="min-width:150px">{{product.name}}</td>
        <td style="min-width:150px">{{product.category}}</td>
        <td style="min-width:150px">{{product.category}}</td>
        <td style="min-width:150px">{{product.code}}</td>
        <td style="min-width:150px">{{product.name}}</td>
        <td style="min-width:150px">{{product.category}}</td>
        <td style="min-width:150px">{{product.quantity}}</td>
        <td style="min-width:150px">{{product.code}}</td>
        <td style="min-width:150px">{{product.name}}</td>
        <td style="min-width:150px">{{product.category}}</td>
        <td style="min-width:150px">{{product.quantity}}</td>
        <td style="min-width:150px">{{product.code}}</td>
        <td style="min-width:150px" (click)="openInfo()">
          <p-rating style="color:#f4c93d" [ngModel]="product.rating" [readonly]="true" [cancel]="false"></p-rating>
        </td>
        <td style="display:revert; min-width:150px;">
          <i class="fa fa-pencil bb" style="color:rgb(38, 38, 224)" aria-hidden="true"></i>
          <i class="fa fa-trash bb" style="color:red" aria-hidden="true"></i>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<!-- Service request Details -->

<div class="row" *ngIf="tabview==true">
  <div class="col-6 " style="margin-top: 12px;" *ngFor="let item of products">
    <div class="card shad" style="border-radius:15px;">
      <div class="card-body" style="border-radius:15px;">
        <div class="card hey bg1 ">
          <div class="card-body">
            <div class="row">
              <div class="col-9" style="color:#4d4c4c; ">
                Service Request Details
                <p style="font-size:12px;">22/2/2222</p>
              </div>
              <div class="col-3">
                <i class="fa fa-pencil-square-o" aria-hidden="true" style="padding-right:10px;padding-left:22px;"
                  (click)="openPopup1()"></i>
                <i class="fa fa-info-circle" aria-hidden="true" (click)="openPopup(item)"></i>
              </div>
            </div>
          </div>
        </div>
        <div class="row" style="padding-top: 20px;">
          <div class="col-6 pad">
            <p>Request Type</p>
          </div>
          <div class="col-6 pad1">
            <p>{{item.category}}</p>
          </div>
        </div>
        <div class="row">
          <div class="col-6 pad">
            <p>Product Name</p>
          </div>
          <div class="col-6 pad1">
            <p>{{item.name}}</p>
          </div>
        </div>
        <div class="row">
          <div class="col-6 pad">
            <p>Product Image</p>
          </div>
          <div class="col-6 pad1">
            <p>{{item.image}}</p>
          </div>
        </div>
        <div class="row">
          <div class="col-6 pad">
            <p>Booking Date</p>
          </div>
          <div class="col-6 pad1">
            <p>{{item.code}}</p>
          </div>
        </div>
        <div class="row">
          <div class="col-6 pad">
            <p>Request Status</p>
          </div>
          <div class="col-6 pad1">
            <p>{{item.inventoryStatus}}</p>
          </div>
        </div>
        <div class="row">
          <form>
            <div class="form-group">
              <label class=" padd" for="comment">Description About Service </label>
              <p class="pad">{{item.inventoryStatus}}</p>
            </div>
          </form>
        </div>
        <p class="card-text">
        </p>
      </div>
    </div>
  </div>
</div>
<br>

<!-- customer details -->

<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayStyle}">
  <div class="modal-dialog " role="document">
    <div class="modal-content" style="border-radius:10px;">
      <div class="modal-body">
        <div class="card-body" style="border-radius:15px;">
          <div class="card hey bg1 ">
            <div class="card-body">
              <div class="row">
                <div class="col-6" style="color:#4d4c4c; ">
                  Customer Details
                </div>
                <div class="col-3">
                </div>
                <div class="col-3" style="padding-left: 65px;">
                  <i class="fa fa-times" aria-hidden="true" (click)="closePopup()"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="row" style="padding-top: 20px;">
            <div class="col-6 pad">
              <p>Name</p>
            </div>
            <div class="col-6 ">
              <p>{{name}}</p>
            </div>
          </div>
          <div class="row">
            <div class="col-6 pad">
              <p>Phone Number</p>
            </div>
            <div class="col-6 ">
              <p>8{{pno}}</p>
            </div>
          </div>
          <div class="row">
            <div class="col-6 pad">
              <p>Address</p>
            </div>
            <div class="col-6 ">
              <p>{{address}}</p>
            </div>
          </div>
          <p class="card-text">
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- edit details -->

<div class="modal " tabindex="-1" role="dialog" [ngStyle]="{'display':displayStyle1}">
  <div class="modal-dialog aone " role="document">
    <div class="modal-content" style="border-radius:10px;">
      <div class="modal-body">
        <div class="card-body" style="border-radius:15px;">
          <div class="card hey bg1 ">
            <div class="card-body">
              <div class="row">
                <div class="col-6" style="color:#4d4c4c; ">
                  Edit Details
                </div>
                <div class="col-3">
                </div>
                <div class="col-3" style="    padding-left: 65px;">
                  <i class="fa fa-times" aria-hidden="true" (click)="closePopup1()"></i>
                </div>
              </div>
            </div>
          </div>
          <form [formGroup]="editServicedetails">
            <div class="row" style="padding-top: 20px;">
              <div class="col-6 pad">
                <p>Booking Date</p>
              </div>
              <div class="form-group col-md-6">
                <div class="input-group">
                  <input class="form-control" formControlName="Booking_Date" placeholder="yyyy-mm-dd" name="dp"
                    [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker">
                  <button class="btn btn-primary" (click)="d.toggle()" type="button"><i class="fa fa-calendar-o"
                      aria-hidden="true"></i></button>
                </div>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-6 pad">
                <p>Request Status</p>
              </div>
              <div class="form-group col-md-6">
                <select id="inputState" class="form-control" formControlName="Request_Status">
                  <option [ngValue]="null" [disabled]="true">Select Status</option>
                  <option>Delivered</option>
                  <option>In-Transist</option>
                  <option>Pending</option>
                </select>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-6 al">
              </div>
              <div class="col-6 am">
                <button type="button" class="btn btn-primary" (click)="submit()">Save</button>
              </div>
            </div>
            <p class="card-text">
            </p>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- info openPopup -->

<div class="modal " tabindex="-1" role="dialog" [ngStyle]="{'display':displayStyle2}" *ngFor="let item of products">
  <div class="modal-dialog aone " role="document">
    <div class="modal-content" style="border-radius:10px;">
      <div class="modal-body">
        <div class="card-body" style="border-radius:15px;">
          <div class="card">
            <div class="row">
              <div class="col-6" style="color:#4d4c4c; ">
                {{"Name"}}
              </div>
              <div class="col-2">
                <P>{{"date"}}</P>
              </div>
              <div class="col-4">
                <p-rating style="color:#f4c93d" [ngModel]="item.rating" [readonly]="true" [cancel]="false"></p-rating>
              </div>
            </div>
            <div class="row">
              <div class="col-3" style="color:#4d4c4c; ">
                <img class="card-img-top" src="../../../../assets/images/tv.jpg" style="height:25vh"
                  alt="Card image cap">
              </div>
              <div class="col-9">
                <div class="row">
                  <p-rating style="color:#f4c93d" [readonly]="true" [cancel]="false"></p-rating>
                </div>
                <div class="row">
                  <p>{{"the main body of a book or other piece of writing, as distinct from other material such asnotes,
                    appendices, and illustrations."}} </p>
                </div>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-4">
                <button type="button" class="btn btn-danger" (click)="closeInfo()">Cancel</button>
              </div>
              <div class="col-4">
                <button type="button" class="btn btn-primary">Direct Call</button>
              </div>
              <div class="col-4">
                <button type="button" class="btn btn-primary">Direct Mesage</button>
              </div>
            </div>
          </div>
          <!-- </div> -->
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="blur==true" class="modal-backdrop fade show"></div>